@using K9.Base.WebApplication.Config
@using K9.SharedLibrary.Extensions
@using K9.SharedLibrary.Helpers
@model K9.WebApplication.Models.StripeModel
@{
    ViewBag.Title = K9.Globalisation.Dictionary.SponsorIbogaTree;
    ViewBag.SubTitle = K9.Globalisation.Dictionary.SponsorIbogaTree;
    ViewBag.BackgroundClass = "background-poaching1";
    Layout = "../Shared/_LayoutFormSmall.cshtml";
}

@using (Html.BeginForm("SponsorProcess", "Support", FormMethod.Post))
{
    using (Html.BeginBootstrapForm())
    {
        @Html.BootstrapDisplayFor(model => model.TreeDonationAmount, new EditorOptions
        {
            CultureInfo = CurrencyTools.GetCultureInfoFromIso(Model.LocalisedCurrencyThreeLetters)
        })
        @Html.HiddenFor(model => model.NumberOfTrees)
        @Html.HiddenFor(model => model.DonationAmount)
        @Html.HiddenFor(model => model.LocalisedCurrencyThreeLetters)
        <hr/>

        <script src="https://checkout.stripe.com/checkout.js" class="stripe-button"
                data-key="@Model.PublishableKey"
                data-amount="@Model.DonationAmountInCents"
                data-name="@WebsiteConfiguration.Instance.CompanyName"
                data-description="@K9.Globalisation.Dictionary.SponsorIbogaTree"
                data-billing-address="true"
                data-image="@Url.AbsoluteContent("~/Images/company/botf_med.png")"
                data-locale="@Model.Locale"
                data-zip-code="false"
                data-currency="@Model.LocalisedCurrencyThreeLetters">
        </script>

        <hr/>
        @Html.BootstrapActionLinkButton(K9.Globalisation.Dictionary.Back, "SponsorIbogaStart", "Support", null, "fa-chevron-left")
    }
}